{#
/**
 * Person CTA - Events
 */
#}
{%- set image_attributes = create_attribute() -%}
{%- set content_attributes = create_attribute() -%}
{%- set link_attributes = create_attribute({'class': ['su-link']}) -%}
{%- set is_external = false -%}
{%- if su_person_cta_link|render_clean is not empty -%}
  {%- set is_external = su_person_cta_link|render|striptags|split('//')[1] ? true : false -%}
  {%- if is_external -%}
    {%- set link_attributes = link_attributes.addClass('su-link--external') -%}
  {%- endif %}
{%- endif -%}

<div{{ attributes.addClass('su-person-cta') }}>
  {%- if su_person_cta_image|render_clean('<img> <picture>') is not empty -%}
  <div {{ image_attributes.addClass('su-person-cta__image') }}>
    {{ su_person_cta_image }}
  </div>
  {%- endif -%}
  <div {{ content_attributes.addClass('su-person-cta__content') }}>
    {%- if su_person_cta_name|render_clean is not empty -%}
    <p class="su-person-cta__name">
      {%- if su_person_cta_link|render_clean is not empty -%}
        <a href="{{ su_person_cta_link|render_clean }}" {{ link_attributes }}>
      {%- endif -%}
      {{- su_person_cta_name|render_clean -}}
      {%- if su_person_cta_link|render_clean is not empty -%}
        </a>
      {%- endif -%}
    </p>
    {%- endif -%}
    {%- if su_person_cta_title|render_clean is not empty -%}
      <p class="su-person-cta__title">{{ su_person_cta_title|render_clean }}</p>
    {%- endif -%}
  </div>
</div>
