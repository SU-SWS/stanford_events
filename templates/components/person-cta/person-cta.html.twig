{#
/**
 * Person CTA - Events
 */
#}
{%- set image_attributes = create_attribute() -%}
{%- set content_attributes = create_attribute() -%}
{%- set link_attributes = create_attribute({'class': ['su-link']}) -%}
{%- set is_external = false -%}
{%- if su_person_cta_link|render|striptags is not empty -%}
  {%- set is_external = su_person_cta_link|render|striptags|split('//')[1] ? true : false -%}
  {%- if is_external -%}
    {%- set link_attributes = link_attributes.addClass('su-link--external') -%}
  {%- endif %}
{%- endif -%}

<div{{ attributes.addClass('su-person-cta') }}>
  {%- if su_person_cta_image|render|striptags("<drupal-placeholder>") is not empty -%}
  <div {{ image_attributes.addClass('su-person-cta__image') }}>
    {{ su_person_cta_image }}
  </div>
  {%- endif -%}
  <div {{ content_attributes.addClass('su-person-cta__content') }}>
    {%- if su_person_cta_name|render|striptags("<drupal-placeholder>") is not empty -%}
    <p class="su-person_cta__name">
      {%- if su_person_cta_link|render|striptags("<drupal-placeholder>") is not empty -%}
        <a href="{{ su_person_cta_link|render|striptags }}" {{ link_attributes }}>
      {%- endif -%}
      {{- su_person_cta_name|render|striptags -}}
      {%- if su_person_cta_link|render|striptags("<drupal-placeholder>") is not empty -%}
        </a>
      {%- endif -%}
    </p>
    {%- endif -%}
    {%- if su_person_cta_title|render|striptags("<drupal-placeholder>") is not empty -%}
      <p class="su-person_cta__title">{{ su_person_cta_title|render|striptags }}</p>
    {%- endif -%}
  </div>
</div>
